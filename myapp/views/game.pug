doctype html

html
	head
		meta(name="viewport" content="width=device-width, initial-scale=1.0")
		title="race_condition"

		link(href='/stylesheets/codemirror.css' rel='stylesheet')
		link(href='/theme/dracula.css' rel='stylesheet')
		link(href='/theme/base16-dark.css' rel='stylesheet')
		link(href='/stylesheets/main.css' rel='stylesheet')
		script(src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js")
		script(type='text/javascript' src='/javascripts/lib/codemirror.js')
		script(type='text/javascript' src='/javascripts/mode/python/python.js')
		script(type='text/javascript' src='/javascripts/mode/scheme/scheme.js')
		script(type='text/javascript' src='/javascripts/mode/javascript/javascript.js')
		script(type='text/javascript' src='/javascripts/mode/haskell/haskell.js')
		script(src="/socket.io/socket.io.js")
		script(type='text/javascript' src='/javascripts/color.js')
		script(type='text/javascript' src='/javascripts/game.js')


	body


		div(id="container")

			include ./header.pug
			div(id="body")

				//h(class="header1") #{puzzle.name}
				
				//if puzzle.difficulty === "easy"
				//	-var diff_color = "green";
				//else if puzzle.difficulty === "moderate"
				//	-var diff_color = "yellow";
				//else
				//	-var diff_color = "red";

				//h(class="header2") Difficulty: 
				//	font(color="#{diff_color}" style="margin-left:34px") #{puzzle.difficulty}

				//h(class="header2") Description: 
				//p(style="margin-left:100px; margin-right:2%; margin-top: -50px; text-align: justify;") !{puzzle.description}

				

				div
					div(class="code-container")

						div(id="progress-item" class="codebar-item")

							div(class="progress-container")
								div(class="progress")
									div(class="progress-name") #{game.creator}
									div(class="progress-bar")
										div(id="progress_" + game.creator class="progress-per" per="0%")
								div(class="progress-text-container")
									div(id="progress_text_" + game.creator class="progress-per-text" per="0%")
							
								div(class="progress")
									div(class="progress-name") #{game.invitee}
									div(class="progress-bar")
										div(id="progress_" + game.invitee class="progress-per" per="0%")
								div(class="progress-text-container")
									div(id="progress_text_" + game.invitee class="progress-per-text" per="0%")



						div(class="puzzle-item")

							//div(class="cell" style="display:block")
							
							div
								h(id="puzzle_header" class="header3" style="margin-right: 30px") Puzzle: 
								select(id="puzzle" name="puzzle" style="width: 140px")

								br(class="space")
								br(class="space")
								h(id="description_header" class="header3") Description: 
								p(id="description" style="text-align: justify; margin: -20px 0px") 


							div(style="height:100%")
								h(id="gameover" class="header1" style="font-size: 24px; text-align: justify;")
								p(id="unlocked" style="text-align: justify;")
								p(id="new_lang" style="text-align: justify;")




						div(class="codebar-item" id="code_panel")

							div(class="cell")
								h(class="header3" style="margin-right: 20px") Language: 

								select(id="language" name="language")
								//	option(value="Python" selected) Python
								//	option(value="Scheme") Scheme
								//	option(value="JavaScript") JavaScript
								//	option(value="Haskell") Haskell
							div(class="cell")
								img(id="logo" src="/images/" + "python" + ".svg" alt='logo' width="50px" height="50px" style="float:left; margin: 0 20px")


											

						div(class="codebar-item" id="puzzle_panel")

							div(class="cell")
								h(class="header3" style="margin-right: 20px") Run:
								button(id="run_button" class="round-button" style="margin 0 auto")
									i(class="fa fa-play")



						div(style="text-align:left")
							div.input(style="font-size:15px;")
								textarea(id="codeeditor")
						div(style="text-align:left")
							div.input(style="font-size:15px")
								textarea(id="codeoutput")

				//
				//br

				//button(class="button" id="edit_button" style="vertical-align:middle")
				//	span Continue Editing
				//button(class="button" id="submit_button" style="vertical-align:middle")
				//	span Save this Solution

			include ./footer.pug

				script.
					var game = !{JSON.stringify(game)};
					var user = !{JSON.stringify(user)};
					var puzzles = !{JSON.stringify(puzzles)};

					var points_needed = game.num_easy + (game.num_moderate * 3) + (game.num_challenging * 5);
